(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4482],{98527:function(e,t,a){Promise.resolve().then(a.t.bind(a,38173,23)),Promise.resolve().then(a.bind(a,10912)),Promise.resolve().then(a.bind(a,61481)),Promise.resolve().then(a.bind(a,12575))},12575:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return w}});var s=a(57437),l=a(2265),r=a(28709),i=a(25057),n=a(77631),d=a(49257),o=a(56286),c=a(46682),u=a(79512),m=a(3650),h=a(23288),p=a(88625),g=a(51501),x=a(69),f=a(65757),j=a(3003),b=a(98053),y=a(62737),v=a.n(y),N=a(30998),S=a(16463);function k(){let e=(0,S.useRouter)(),{darkAlgorithm:t,compactAlgorithm:a}=i.default,[r,n]=l.useState(0),{theme:o}=(0,u.F)(),[y,k]=l.useState(),[Z,w]=l.useState(!1),[z,P]=x.ZP.useMessage(),[_,T]=l.useState({pagination:{current:1,pageSize:10,total:0}}),{data:E}=(0,N.useSession)(),I=async e=>{var t;let a=await (0,b.Z)("DELETE","".concat("http://10.177.2.133:3037/uzcms-odcdc/","api/v1/articles/"),{id:e},{accept:"application/json",Authorization:"Bearer ".concat(null==E?void 0:null===(t=E.user)||void 0===t?void 0:t.access_token)});z.open({type:"success",content:a.data.message}),n(Math.random())};return l.useEffect(()=>{let e=async()=>{var e;w(!0);let t=await (0,b.Z)("GET","".concat("http://10.177.2.133:3037/uzcms-odcdc/","api/v1/articles/"),{page:_.pagination.current,limit:_.pagination.pageSize},{accept:"application/json",Authorization:"Bearer ".concat(null==E?void 0:null===(e=E.user)||void 0===e?void 0:e.access_token)});w(!1),200==t.status&&k(t.data.data.articles),T({..._,pagination:{..._.pagination,total:t.data.data.total_articles}})};E&&e()},[_.pagination.current,_.pagination.pageSize,r,E]),(0,s.jsxs)(s.Fragment,{children:[P,(0,s.jsx)(d.ZP,{theme:{components:{Table:{cellFontSize:14,cellFontSizeMD:14,cellFontSizeSM:14,cellPaddingBlock:14,cellPaddingBlockSM:8,cellPaddingInlineSM:8}},algorithm:"dark"==o?t:a},children:(0,s.jsx)(f.Z,{size:"small",columns:[{title:"Title",dataIndex:"post_title"},{title:"Status",dataIndex:"post_status",render:(e,t)=>{let{post_status:a}=t;return"publish"===a?(0,s.jsx)(m.Z,{color:"green",children:a}):"draft"===a?(0,s.jsx)(m.Z,{color:"cyan",children:a}):"trash"===a?(0,s.jsx)(m.Z,{color:"red",children:a}):(0,s.jsx)(m.Z,{color:"geekblue",children:a})}},{title:"Author",dataIndex:"post_author"},{title:"Date",dataIndex:"post_date",render:(e,t)=>{let{post_date:a}=t;return(0,s.jsx)(s.Fragment,{children:v()(a).format("DD MMM YYYY, hh:mm")})}},{title:"Action",key:"action",render:(t,a)=>(0,s.jsxs)(h.Z,{size:"middle",children:[(0,s.jsx)(p.Z,{title:"edit",children:(0,s.jsx)(c.ZP,{shape:"circle",onClick:()=>e.push("/dashboard/post/edit?aa=".concat(a.id)),icon:(0,s.jsx)(j.FNg,{className:"w-5 h-5 text-sky-700"})})}),(0,s.jsx)(p.Z,{title:"delete",children:(0,s.jsx)(g.Z,{title:"Delete data",placement:"left",description:"Are you sure to delete this data?",onConfirm:()=>I(a.id),okText:"Yes",cancelText:"No",children:(0,s.jsx)(c.ZP,{shape:"circle",icon:(0,s.jsx)(j.v_0,{className:"w-5 h-5 text-red-500"})})})})]})}],dataSource:y,loading:Z,pagination:_.pagination,onChange:e=>{var t;T({pagination:e}),e.pageSize!==(null===(t=_.pagination)||void 0===t?void 0:t.pageSize)&&k(null)},bordered:!0,footer:()=>"Total: ".concat(_.pagination.total.toLocaleString()||0),scroll:{x:"max-content"},className:"min-w-full mt-6"})})]})}function Z(){return(0,s.jsxs)("div",{className:"",children:[(0,s.jsx)("div",{className:"grid items-center justify-between grid-cols-2",children:(0,s.jsx)("div",{className:"flex items-center mb-4 lg:mb-0",children:(0,s.jsx)("h3",{className:"mb-2 text-xl font-bold text-gray-900 dark:text-white"})})}),(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-sm dark:border-gray-700 dark:bg-gray-800",children:[(0,s.jsx)("div",{className:"font-semibold"}),(0,s.jsx)(k,{})]})]})}function w(){let{Option:e}=r.default,{darkAlgorithm:t,compactAlgorithm:a}=i.default,{theme:m}=(0,u.F)(),[h]=n.Z.useForm(),p=async e=>{},g=l.useRef(null),[x,f]=l.useState("");return l.useMemo(()=>({readonly:!1,height:600,theme:"dark"==m?"dark":"default"}),[m]),l.useEffect(()=>{if(g.current){let e=g.current.jodit;e&&e.events.on("afterInit",()=>{let t=e.container.querySelector(".jodit_statusbar");t&&(t.style.display="none")})}},[]),(0,s.jsxs)("div",{className:"px-4 pt-6",children:[(0,s.jsx)("div",{className:"flex items-center mb-4 lg:mb-0",children:(0,s.jsx)("h3",{className:"mb-2 text-xl font-bold text-gray-900 dark:text-white",children:"Push Notification"})}),(0,s.jsx)("div",{className:"mb-5",children:(0,s.jsx)(d.ZP,{theme:{algorithm:"dark"==m?t:a},children:(0,s.jsxs)(n.Z,{layout:"vertical",onFinish:p,autoComplete:"off",form:h,className:"grid grid-cols-1 gap-2 lg:grid-cols-3",children:[(0,s.jsxs)("div",{className:"p-4 bg-white border border-gray-200 rounded-lg shadow-sm lg:mr-3 dark:border-gray-700 sm:p-6 dark:bg-gray-800",children:[(0,s.jsx)("p",{className:"font-bold text-lg p-1",children:"Push Notification"}),(0,s.jsx)("p",{className:"font-bold text-md p-1",children:"Subscribers : Users"}),(0,s.jsx)(n.Z.Item,{label:(0,s.jsx)("span",{className:"font-semibold",children:"Title"}),name:"title",rules:[{required:!0,message:"Please input the title!"}],children:(0,s.jsx)(o.default,{size:"large",placeholder:"Original Title"})}),(0,s.jsxs)(n.Z.Item,{label:(0,s.jsx)("span",{className:"font-semibold",children:"Summary Article"}),rules:[{required:!0,message:"Please input summary!"}],name:"description",children:[(0,s.jsx)(o.default.TextArea,{size:"large",rows:4,placeholder:"Summary Article",minLength:3,maxLength:160}),(0,s.jsx)("p",{className:"text-xs",children:"* Max 160 Characters. If empty, it will use 160 char on body content"})]}),(0,s.jsx)(n.Z.Item,{label:(0,s.jsx)("span",{className:"font-semibold",children:"URL"}),name:"url",rules:[{required:!0,message:"Please input the url!"}],children:(0,s.jsx)(o.default,{size:"large",placeholder:"Url"})}),(0,s.jsx)(c.ZP,{size:"large",danger:!0,type:"primary",htmlType:"submit",className:"w-full",children:"Submit"})]}),(0,s.jsxs)("div",{className:"col-span-2 p-4 bg-white border border-gray-200 rounded-lg shadow-sm dark:border-gray-700 sm:p-6 dark:bg-gray-800",children:[(0,s.jsx)("p",{className:"font-bold text-lg p-1",children:"Onesignal Statistics"}),(0,s.jsx)(c.ZP,{size:"large",type:"primary",className:"my-5 w-1/4",children:"Reload Data"}),(0,s.jsx)(Z,{})]})]})})})]})}},98053:function(e,t,a){"use strict";a.d(t,{Z:function(){return l}});var s=a(38472);async function l(e,t,a,l){try{let r;return r="GET"==e?{validateStatus:()=>!1,method:e,headers:l,url:t,params:a}:{validateStatus:()=>!1,method:e,headers:l,url:t,data:a},await (0,s.Z)(r).catch(e=>e.response)}catch(e){return{data:e,status:500,statusText:"Internal Server Error",headers:{},config:{}}}}}},function(e){e.O(0,[1994,1508,8173,9800,5436,998,7847,8709,5361,8958,8242,6300,7363,7631,1501,2971,7023,1744],function(){return e(e.s=98527)}),_N_E=e.O()}]);